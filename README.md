# üè¶ Banco Digital - Sistema Banc√°rio Completo\n\nEste √© um projeto Full Stack que simula um sistema banc√°rio digital, desenvolvido com **Angular (Frontend)** e **Spring Boot (Backend)**.\n\n## üéØ Objetivo\n\nO principal objetivo deste sistema √© permitir o cadastro de clientes, a aprova√ß√£o desses cadastros por um gerente, e a disponibiliza√ß√£o de funcionalidades banc√°rias b√°sicas para os clientes aprovados, como consulta de saldo e solicita√ß√£o de empr√©stimos, com a aprova√ß√£o/rejei√ß√£o desses empr√©stimos por parte do gerente.\n\n## üõ†Ô∏è Tecnologias Utilizadas\n\n### Frontend (Angular)\n\n*   **Angular 20+**: Utilizando os recursos mais recentes do framework, como Standalone Components, Signals para gerenciamento de estado reativo, e a nova sintaxe de Control Flow (`@if`, `@for`).\n*   **TypeScript**: Para tipagem forte e c√≥digo mais robusto.\n*   **HTML & CSS (Nativo)**: Design moderno e responsivo, focado em usabilidade e uma experi√™ncia de usu√°rio intuitiva.\n\n### Backend (Java)\n\n*   **Java 17**: Vers√£o LTS do Java para desenvolvimento robusto.\n*   **Spring Boot**: Framework para constru√ß√£o r√°pida de aplica√ß√µes Java, focado em microservi√ßos e APIs RESTful.\n*   **Spring Security**: Para autentica√ß√£o e autoriza√ß√£o de usu√°rios (clientes e gerentes).\n*   **Spring Data JPA & Hibernate**: Para persist√™ncia de dados no banco de dados, facilitando a intera√ß√£o com objetos Java.\n*   **Lombok**: Para reduzir o boilerplate code em entidades e DTOs.\n*   **RabbitMQ**: Para integra√ß√£o ass√≠ncrona, especificamente para o processo de aprova√ß√£o de cadastro de clientes.\n*   **Banco de Dados Oracle**: Sistema de gerenciamento de banco de dados relacional para armazenamento de dados.\n\n## ‚ú® Funcionalidades Implementadas\n\n1.  **Cadastro de Cliente**: Permite que novos usu√°rios se cadastrem no sistema, coletando informa√ß√µes b√°sicas.\n2.  **Aprova√ß√£o de Cadastro**: Gerentes podem visualizar e aprovar ou rejeitar os cadastros de clientes pendentes. Apenas clientes aprovados podem acessar a plataforma.\n3.  **Login e Autentica√ß√£o**: Sistema de login seguro com diferentes perfis (Cliente e Gerente) utilizando Spring Security.\n4.  **Painel do Cliente**:\n    *   Consulta de Saldo: Clientes podem verificar o saldo atual de suas contas.\n    *   Solicita√ß√£o de Empr√©stimo: Clientes podem solicitar empr√©stimos de at√© R\\$10.000,00 em at√© 24 parcelas, com juros de 1% ao m√™s.\n    *   Regras de Empr√©stimo: Cada cliente pode ter apenas um empr√©stimo ativo ou pendente por vez. O valor do empr√©stimo √© disponibilizado imediatamente ap√≥s a aprova√ß√£o.\n5.  **Painel do Gerente**: Gerentes podem visualizar e gerenciar: \n    *   Solicita√ß√µes de cadastro pendentes (aprovar/rejeitar).\n    *   Solicita√ß√µes de empr√©stimo pendentes (aprovar/rejeitar).\n\n## üöÄ Como Rodar o Projeto Localmente\n\nSiga os passos abaixo para configurar e executar o projeto em sua m√°quina.\n\n### Pr√©-requisitos\n\nCertifique-se de ter instalado:\n\n*   **Java Development Kit (JDK) 17** ou superior.\n*   **Apache Maven**.\n*   **Node.js** (vers√£o LTS recomendada).\n*   **npm** (gerenciador de pacotes do Node.js).\n*   Um servidor **RabbitMQ** rodando (pode ser via Docker):\n    ```bash\n    docker run -it --rm --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:3-management\n    ```\n*   Um **Banco de Dados Oracle** acess√≠vel.\n\n### Configura√ß√£o do Banco de Dados (Oracle)\n\n1.  **Acesse seu ambiente Oracle.**\n2.  **Execute os scripts SQL** para criar as tabelas necess√°rias. O arquivo `sql-scripts.sql` est√° localizado na raiz deste reposit√≥rio.\n    *   Exemplo de DDL (a senha do gerente deve ser gerada com BCrypt, veja a pr√≥xima subse√ß√£o):\n        ```sql\n        -- Tabela de clientes\n        CREATE TABLE clients (\n            id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,\n            name VARCHAR2(255) NOT NULL,\n            email VARCHAR2(255) UNIQUE NOT NULL,\n            cpf VARCHAR2(14) UNIQUE NOT NULL,\n            password VARCHAR2(255) NOT NULL,\n            status VARCHAR2(50) NOT NULL,\n            role VARCHAR2(50) NOT NULL\n        );\n\n        -- Tabela de contas (criada automaticamente quando o cliente √© APROVADO)\n        CREATE TABLE accounts (\n            id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,\n            client_id NUMBER UNIQUE NOT NULL,\n            balance NUMBER(19, 2) NOT NULL,\n            FOREIGN KEY (client_id) REFERENCES clients(id)\n        );\n\n        -- Tabela de empr√©stimos\n        CREATE TABLE loans (\n            id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,\n            client_id NUMBER NOT NULL,\n            amount NUMBER(19, 2) NOT NULL,\n            installments NUMBER NOT NULL,\n            interest_rate NUMBER(5, 4) NOT NULL,\n            status VARCHAR2(50) NOT NULL,\n            FOREIGN KEY (client_id) REFERENCES clients(id)\n        );\n        ```\n\n### Configura√ß√£o e Execu√ß√£o do Backend (Spring Boot)\n\n1.  **Navegue at√© o diret√≥rio `backend`** do projeto no seu terminal:\n    ```bash\n    cd backend\n    ```\n2.  **Gere a senha BCrypt para o usu√°rio gerente**: Para o login do gerente funcionar no backend, a senha precisa ser codificada. Voc√™ pode usar um utilit√°rio tempor√°rio:\n    *   Crie uma classe `PasswordEncoderUtil.java` (se ainda n√£o existe) em `backend/src/main/java/com/bankdigital/bank/util/`:\n        ```java\n        package com.bankdigital.bank.util;\n\n        import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\n        public class PasswordEncoderUtil {\n            public static void main(String[] args) {\n                BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\n                String encodedPassword = encoder.encode(\"687-813\"); // Senha do gerente: 687-813\n                System.out.println(\"Encoded password for '687-813': \" + encodedPassword);\n            }\n        }\n        ```\n    *   Execute o m√©todo `main` desta classe (via IDE ou Maven). Copie a senha codificada resultante.\n3.  **Insira o usu√°rio gerente no banco de dados**: Utilize a senha BCrypt gerada para inserir o gerente na tabela `clients` (se j√° n√£o o fez):\n    ```sql\n    INSERT INTO clients (name, email, cpf, password, status, role)\n    VALUES ('Gerente Cleiton', 'gerentecleiton', '000.000.000-00', 'COLE_A_SENHA_BCRYPT_GERADA_AQUI', 'APPROVED', 'MANAGER');\n    ```\n    Substitua `COLE_A_SENHA_BCRYPT_GERADA_AQUI` pela hash real.\n4.  **Configure o `application.properties`**: Edite o arquivo `backend/src/main/resources/application.properties` e atualize as informa√ß√µes de conex√£o com o seu banco de dados Oracle e RabbitMQ:\n    ```properties\n    # Database Configuration (Oracle)\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1521:XE # Substitua XE pelo seu SID/Service Name\n    spring.datasource.username=YOUR_ORACLE_USERNAME\n    spring.datasource.password=YOUR_ORACLE_PASSWORD\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n    spring.jpa.hibernate.ddl-auto=update \n    spring.jpa.show-sql=true\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.OracleDialect\n\n    # RabbitMQ Configuration\n    spring.rabbitmq.host=localhost\n    spring.rabbitmq.port=5672\n    spring.rabbitmq.username=guest\n    spring.rabbitmq.password=guest\n    ```\n5.  **Compile e execute o backend**:\n    ```bash\n    mvn clean install\n    mvn spring-boot:run\n    ```\n    O backend estar√° rodando em `http://localhost:8080`.\n\n### Configura√ß√£o e Execu√ß√£o do Frontend (Angular)\n\n1.  **Navegue at√© o diret√≥rio raiz** do projeto (onde est√° o `package.json` e `angular.json`) no seu terminal:\n    ```bash\n    cd .. # Se voc√™ estiver dentro da pasta 'backend', volte para a raiz\n    ```\n2.  **Instale as depend√™ncias** do projeto Angular:\n    ```bash\n    npm install\n    ```\n3.  **Rode a aplica√ß√£o Angular**:\n    ```bash\n    ng serve\n    ```\n    O frontend estar√° acess√≠vel em `http://localhost:4200`.\n\n## üß™ Credenciais e Cen√°rios de Teste\n\n### Credenciais de Teste\n\n*   **Gerente:**\n    *   **Email/Usu√°rio:** `gerentecleiton`\n    *   **Senha:** `687-813`\n    *   *Nota*: No frontend, um mock tempor√°rio foi adicionado para este login, permitindo testes sem o backend rodando. Com o backend ativo, a autentica√ß√£o real do Spring Security ser√° utilizada.\n\n*   **Cliente:**\n    *   Voc√™ precisar√° **cadastrar um novo cliente** atrav√©s do formul√°rio de registro. Ap√≥s a aprova√ß√£o do gerente, voc√™ poder√° usar o email e a senha que cadastrou para este cliente.\n\n### Cen√°rios de Teste\n\nAp√≥s iniciar o backend e o frontend, siga estes cen√°rios no seu navegador (preferencialmente em `http://localhost:4200`):\n\n**1. Cadastro de Novo Cliente**\n1.  Acesse a p√°gina de cadastro: `/register`.\n2.  Preencha o formul√°rio com dados v√°lidos (Ex: `Nome: Cliente Teste`, `Email: cliente@teste.com`, `CPF: 111.222.333-44`, `Senha: senha123`).\n3.  Clique em \"Cadastrar\".\n4.  Verifique a mensagem de sucesso no frontend e observe os logs do backend (envio para RabbitMQ).\n\n**2. Login do Gerente e Aprova√ß√£o de Cadastro**\n1.  Acesse a p√°gina de login: `/login`.\n2.  Fa√ßa login com as credenciais do gerente: `gerentecleiton` / `687-813`.\n3.  Voc√™ dever√° ser redirecionado para o Painel do Gerente (`/manager-dashboard`).\n4.  Na se√ß√£o \"Solicita√ß√µes de Cadastro Pendentes\", localize o cliente que voc√™ acabou de cadastrar.\n5.  Clique em \"Aprovar\". O cliente dever√° desaparecer da lista.\n6.  Observe os logs do backend (cliente aprovado, conta criada).\n\n**3. Login do Cliente Aprovado e Consulta de Saldo**\n1.  Fa√ßa logout do gerente.\n2.  Acesse a p√°gina de login: `/login`.\n3.  Fa√ßa login com as credenciais do cliente que voc√™ cadastrou e aprovou (Ex: `cliente@teste.com` / `senha123`).\n4.  Voc√™ dever√° ser redirecionado para o Painel do Cliente (`/client-dashboard`).\n5.  Verifique \"Seu Saldo\". Dever√° ser `R$ 0,00`.\n\n**4. Solicita√ß√£o de Empr√©stimo pelo Cliente**\n1.  No Painel do Cliente (`/client-dashboard`), na se√ß√£o \"Solicitar Empr√©stimo\".\n2.  Preencha o \"Valor do Empr√©stimo\" (Ex: `5000`) e \"N√∫mero de Parcelas\" (Ex: `12`).\n3.  Clique em \"Solicitar Empr√©stimo\".\n4.  Verifique a mensagem de sucesso no formul√°rio e observe os logs do backend (empr√©stimo pendente).\n\n**5. Aprova√ß√£o de Empr√©stimo pelo Gerente**\n1.  Fa√ßa logout do cliente.\n2.  Fa√ßa login novamente como gerente.\n3.  No Painel do Gerente (`/manager-dashboard`), na se√ß√£o \"Solicita√ß√µes de Empr√©stimo Pendentes\", localize a solicita√ß√£o do cliente.\n4.  Clique em \"Aprovar\". A solicita√ß√£o dever√° desaparecer da lista.\n5.  Observe os logs do backend (empr√©stimo aprovado, saldo do cliente atualizado).\n\n**6. Verifica√ß√£o de Saldo Atualizado pelo Cliente**\n1.  Fa√ßa logout do gerente.\n2.  Fa√ßa login novamente como o cliente.\n3.  No Painel do Cliente (`/client-dashboard`), verifique \"Seu Saldo\". Ele dever√° estar atualizado com o valor do empr√©stimo aprovado (Ex: `R$ 5.000,00`).\n4.  No \"Hist√≥rico de Empr√©stimos\", o status do empr√©stimo dever√° ser \"APPROVED\".\n\n## üìù Estrutura do Projeto\n\n\`\`\`\n. # Raiz do Reposit√≥rio\n‚îú‚îÄ‚îÄ backend/               # Projeto Spring Boot (Java)\n‚îÇ   ‚îú‚îÄ‚îÄ pom.xml            # Depend√™ncias Maven\n‚îÇ   ‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/      # C√≥digo Java (modelos, reposit√≥rios, servi√ßos, controllers, configs)\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/ # application.properties, etc.\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test/        # Testes do backend\n‚îÇ   ‚îî‚îÄ‚îÄ .gitignore         # Ignorar arquivos do Maven e IDE\n‚îú‚îÄ‚îÄ src/                   # Projeto Angular (Frontend)\n‚îÇ   ‚îú‚îÄ‚îÄ app/               # Componentes, servi√ßos, rotas, guards\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.config.ts\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.routes.ts\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.ts\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.css\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.html\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ header/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ guards/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.guard.ts\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ role.guard.ts\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client-dashboard/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ auth.service.ts\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ client.service.ts\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ client-dashboard.service.ts\n‚îÇ   ‚îú‚îÄ‚îÄ main.ts\n‚îÇ   ‚îî‚îÄ‚îÄ styles.css\n‚îú‚îÄ‚îÄ angular.json           # Configura√ß√£o do projeto Angular\n‚îú‚îÄ‚îÄ package.json           # Depend√™ncias do Frontend\n‚îú‚îÄ‚îÄ package-lock.json\n‚îú‚îÄ‚îÄ blueprint.md           # Documenta√ß√£o detalhada do plano de desenvolvimento (gerado pela IA)\n‚îú‚îÄ‚îÄ GEMINI.md              # Log de intera√ß√µes com a IA\n‚îú‚îÄ‚îÄ README.md              # Este arquivo\n‚îî‚îÄ‚îÄ sql-scripts.sql        # Scripts SQL para o banco de dados Oracle\n\`\`\`\n\n## üìö Diferenciais\n\n*   **Design Moderno e Responsivo**: Interface de usu√°rio inspirada em tend√™ncias atuais, com foco em uma paleta de cores escura e detalhes em verde neon.\n*   **Angular 20+**: Utiliza√ß√£o dos recursos mais recentes do Angular para performance e manutenibilidade.\n*   **Arquitetura Baseada em Standalone Components**: Promove a modularidade e simplifica o desenvolvimento.\n*   **State Management com Signals**: Abordagem reativa e eficiente para o gerenciamento de estado no frontend.\n*   **Comunica√ß√£o Ass√≠ncrona (RabbitMQ)**: Demonstra√ß√£o de um sistema de mensageria para desacoplamento de servi√ßos (cadastro e aprova√ß√£o).\n*   **Seguran√ßa com Spring Security**: Autentica√ß√£o e autoriza√ß√£o robustas no backend.\n\n