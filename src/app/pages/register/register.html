<div class="register-container">
  <form class="register-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <h2>Crie Sua Conta</h2>

    @if (registrationSuccess) {
      <div class="success-message">
        <p>Cadastro enviado com sucesso! Aguarde a aprovação do gerente.</p>
        <a routerLink="/login" class="btn btn-secondary">Fazer Login</a>
      </div>
    } @else {
      <div class="input-group">
        <label for="name">Nome Completo</label>
        <input type="text" id="name" formControlName="name" placeholder="Seu nome completo" required>
        @if (registerForm.get('name')?.invalid && registerForm.get('name')?.touched) {
          <div class="error-message">Nome é obrigatório.</div>
        }
      </div>

      <div class="input-group">
        <label for="email">Email</label>
        <input type="email" id="email" formControlName="email" placeholder="Seu email" required>
        @if (registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
          <div class="error-message">Email é obrigatório e deve ser válido.</div>
        }
      </div>

      <div class="input-group">
        <label for="cpf">CPF</label>
        <input type="text" id="cpf" formControlName="cpf" placeholder="Ex: 123.456.789-00" required>
        @if (registerForm.get('cpf')?.invalid && registerForm.get('cpf')?.touched) {
          <div class="error-message">CPF é obrigatório e deve ser válido (formato 999.999.999-99).</div>
        }
      </div>

      <div class="input-group">
        <label for="password">Senha</label>
        <input type="password" id="password" formControlName="password" placeholder="Sua senha" required>
        @if (registerForm.get('password')?.invalid && registerForm.get('password')?.touched) {
          <div class="error-message">Senha é obrigatória e deve ter no mínimo 6 caracteres.</div>
        }
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid">Cadastrar</button>
    }
  </form>
</div>